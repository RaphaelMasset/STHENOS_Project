# Sthenos Project4

## Distinctiveness and Complexity

This project stands out in its distinctiveness and complexity due to its integration of multiple features and its sophisticated handling of user interactions and data management. This application, built using Django and JavaScript, implements sport-oriented knowledge, potentials calculators and programs generators. All apps in this project utilize Django on the back-end and JavaScript on the front-end. The STHENOS_Index app include a model containing personal information about the body composition to pre-fill the program generator and the calulator.

Responsive Design: The project uses responsive design principles to ensure the site is accessible and visually appealing across different device sizes, with special media queries to adjust layouts based on screen width.

User Authentication: A navigation bar provides different options for logged-in users versus guests, including links to log in, register, or view a profile.

Hexagonal Navigation: The site uses a unique hexagonal design for navigation elements, which not only serves as a visual identity but also provides an interactive experience with scaling effects based on mouse movement.

Styling and Layout: The project uses a combination of custom CSS and Django's static file management to ensure all stylesheets and scripts are correctly loaded and applied.

## File Descriptions

### Root Directory
- **`README.md`**: Provides comprehensive documentation of the project, including details on the project's distinctiveness and complexity, file descriptions, setup instructions, and additional information.
- **`manage.py`**: A command-line utility that lets you interact with this Django project, allowing you to run the development server, apply database migrations, create app components, and more.
- **`db.sqlite3`**: The SQLite database file used by Django to store the application’s data, including all models defined in the project.
- **`requirements.txt`**: Lists the Python packages required to run the application. It includes:
  - `fpdf`: A lightweight library for generating PDFs, typically used for basic PDF creation tasks.
  - `fpdf2`: A more advanced and feature-rich successor to `fpdf`, offering enhanced capabilities for PDF generation, required for more complex PDF-related features in the project.

### Common files amongs all apps
- **`STHENOS_Calculators/`**, **`STHENOS_Game/`**, **`STHENOS_Index/`**, **`STHENOS_Network/`** **`STHENOS_Programs/`**, and **`STHENOS_Theory/`**: Each of these directories contains a Django app with the following structure:
  - **`__pycache__/`**: Stores compiled Python bytecode (.pyc files) to speed up execution. Created automatically by Python, this directory helps avoid recompiling unchanged files.
  - **`migrations/`**: Contains migration files that track and apply changes to the database schema. Generated by Django's makemigrations command, they ensure the database schema aligns with your models.
  - **`__init__.py`**: Marks the directory as a Python package.
  - **`admin.py`**: Registers models with the Django admin site.
  - **`apps.py`**: Contains application-specific configurations.
  - **`models.py`**: Defines the data models used in the app.
  - **`views.py`**: Handles HTTP requests and returns responses.
  - **`urls.py`**: Maps URL paths to view functions within the app.
  - **`forms.py`**: Defines forms used within the app, where applicable.
  - **`static/`**: Contains app-specific static files, such as CSS, JavaScript, and images.
  - **`templates/`**: Holds HTML templates used by the app.

### STHENOS main app

The STHENOS app serves as the overarching application and the main container for the other sections of the project. It is a web-based platform that integrates various functionalities into a cohesive user experience. The application is structured with a common template that ensures a consistent layout and style across all the pages (in STHENOS/template and STHENOS/static). This template leverages Django's template language, which facilitates dynamic content rendering while maintaining separation of concerns between design and logic.

- **`__init__.py`**: An empty file that indicates this directory is a Python package.
- **`asgi.py`**: Configures ASGI for the project, setting up the ASGI application callable as `application` and specifying the settings module (`STHENOS.settings`) for ASGI servers. [Learn more about Django ASGI Deployment](https://docs.djangoproject.com/en/5.0/howto/deployment/asgi/).
- **`settings.py`**: Contains the Django settings and configurations, including database settings, installed apps, middleware, and more.
- **`urls.py`**: Defines the URL patterns for the project, mapping URL paths to view functions.
- **`wsgi.py`**: Provides the WSGI (Web Server Gateway Interface) application callable that Django’s server uses to serve your application.
- **`commonTemplates/headers`**: Contain HTML that display the title and the buttons to login/logout.
- **`commonTemplates/navBar`**: Holds HTML common to all apps except index because as index its main purpose is to help user navigate between each apps
- **`commonTemplates/STHENOS`**: Contains the head part of the HTML code with the different style and script tags
- **`static/commonStyles`**: Contains the common CSS shared between each apps.
- **`static/mouseoverhexagons`**: Contains a script that scale up the navigations hexagons of the index app when hovered.

### STHENOS_Calculators app

The calculator app allow you to calculate your BMI and max physical potential using four different formulas. The formulas are written in javaScript in the calculator.js file in the static folder. The input fields are pre-filled with data from the user model if registered. On the bottom of the page you have a detailed explaination about the formulas used in the calculations.

- **`STHENOS_Calculators/static/`**: Contain a picture of the BMI chart, a picture of a cursor, a specific css file for this app and a javascript that calculate the BMI and the max potential with four different formulas using the input values.
- **`STHENOS_Calculators/templates/calculators.html`**: This Django template extends STHENOS.html and includes common site elements like headers and a navigation bar. It loads necessary static files (calculators.css and calculators.js) and provides input fields for users to enter data such as height, weight, and body measurements. The template calculates and displays results for BMI and potential maximum body weight using formulas from Marc Perry, Martin Berkhan, Elena Kouri, and Casey Butt, while also providing explanations about these formulas and factors influencing muscle mass potential.#
- **`STHENOS_Calculators/views.py`**: This Django view function, calculators, renders the "calculators.html" template. If the user is authenticated, it passes their height, weight, wrist circumference, ankle circumference, and body fat percentage to the template. If the user is not authenticated, it only passes the current page information. The HTML inputs are then pre-filled with thoses datas.

### STHENOS_Game app

this part implement a little game where a button flew away from the cursor. The javascript code actually calculate the ditance and the direction between the cursor and the button to move the button in the opposite direction. It could have been very funny one "contact me button". This app will become a sandbox for me to experiment javascript with little games like snake, minesweeper, mastermind, flappy bird.

- **`STHENOS_Game/static/game.html`**: This folder contain the specific css for this page and a JavaScript that adds interactive behavior to a button element with the ID #catch. When clicked, the button triggers an alert saying "Well done." Additionally, the script dynamically moves the button away from the cursor if it gets too close, making it difficult to click. The movement is constrained within a parent container to ensure the button remains visible. If the button reaches the container's edges, its position is reset. After a brief delay, the script also changes the text of an element with the ID #catch-title to display a playful message indicating that the button can't be caught by normal means.
- **`STHENOS_Game/templates/game.html`**: This folder contain a simplistic HTML code a display the button inside a container.
- **`STHENOS_Game/views.py`**: This Django view function, renders the "calculators.html" file.

### STHENOS_Index app

The STHENOS_Index section acts as the central hub from which users can navigate to the various apps of the project. It is implemented using a custom navigation menu, where each link is represented by a hexagon that scales relatively to the cursor proximity, providing a dynamic and engaging interface. The index serves as a gateway to the following sections: Theory, Programs, Calculators, Network, Links, Contact, and Game. The navbar present in each other app is very similar. This is also where I put the html templates for login and register pages and the corresponding logic in the views.py to login, logout and register. On top of that in model.py you can see a model container the classic class User(AbstractUser) with new fields to save personal informations like weight, height or bench press max. I choose to put it in the index app because its common to all but not mandatory and the idex page is the default page so it make sense.

- **`STHENOS_Index/static/`**: This folder contains the specific css for index, putting all the hexagons into a flex grid, switiching to normal flex when the viewport isnt large enough. It also contain a javascript file that connect 3 buttons to different new style so the user can choose his css on the index page.
- **`STHENOS_Index/templates/`**: This folder contain the HMTL with the navigation button of the index page and the login/register page. index.html displays an introductory page with links to various sections like theory, programs, calculators, and more. It includes a set of buttons that allow users to switch between different visual styles using JavaScript. login.html provides a login form for users to enter their credentials. If there is a message (such as an error), it will be displayed above the form. It also includes a link for users to register if they don't have an account. register.html displays a registration form where users can create a new account by entering their username, email, and password. Like the login page, it also shows any messages and includes a link to the login page for users who already have an account.
- **`STHENOS_Index/views.py`**: This Django view file handles user authentication and registration. It defines several functions: index renders the index page and handles unexpected URL paths by returning to the index; login_view manages user login by checking credentials and redirecting to the index if successful or returning an error message if not; logout_view logs out the user and redirects to the index; and register handles user registration by ensuring the passwords match, attempting to create a new user, and either saving the user and logging them in or returning an error if the username is already taken.
- **`STHENOS_Index/models.py`**: This Django model extends the AbstractUser class to include additional fields for a fitness application. The User model incorporates fields for tracking physical attributes and performance metrics such as benchMax, squatMax, and deadLiftMax, alongside general health information like age, height, weight, wristC (wrist circumference), ankleC (ankle circumference), and bodyFat. Each field is equipped with validation to ensure data integrity, with constraints tailored to reasonable ranges for each attribute. This model is designed to facilitate personalized fitness tracking and analysis within the application.

### STHENOS_Network app

I am fully aware that this last part is similar to the last project of CS50 Web, but it is just a little app in my whole project. I implemented it because I needed some kind of forum, and its an ok format to do so. I shall just add Hashtags post classification and thread in the future. I will also add some functionality from the projects mail and auction. I want people to sens message btween each other privately too. Please dont take this part into account the other apps are sufficients. 

- **`STHENOS_Network/static/`**: Contains a like button, the specific style and a JS script very similar to the network project.
- **`STHENOS_Network/templates/`**: Too similar to the network project, please dont mind this part.
- **`STHENOS_Network/views.py`**: Too similar to the network project, please dont mind this part.

### STHENOS_Programs app

The STHENOS_Programs application is a Django-based web tool designed to provide users with personalized strength training programs. The app displays four general training programs—Starting Strength, 531, 333 - 555, and Bodyweight Strength. Additionally, it includes a customizable fifth option where users can input their max lifts for exercises such as Bench Press, Squat, and Deadlift. Upon submission, the app uses JavaScript to send the data to a Django view, which processes the input and generates a tailored PDF training plan for the user. The application supports user authentication to simplify data entry and is built using Django's templates, forms, and PDF generation capabilities. The project is straightforward to set up, requiring Python, Django, and the FPDF library, and is easily extendable, allowing for the addition of new programs or customization of the PDF output.

- **`STHENOS_Programs/static/`**: Contains a png image used in the pdfGenerator.py. The specific CSS of this app and a Javascript  code snippet that attaches an event listener to a form's submission event when the DOM content is fully loaded. Upon form submission, the default behavior is prevented, and the form data is collected using FormData. A fetch request is then sent to the server with the form data and CSRF token for security. If the server response is successful and returns binary data (such as a PDF), the code creates a URL for the data, triggers a download of the file with the name STHENOS_strength_program.pdf, and cleans up the URL object. Any errors encountered during the process are logged to the console.
- **`STHENOS_Programs/templates/programs.html`**: This Django template extends the STHENOS.html base layout and includes static assets and content specific to workout programs. It loads a CSS stylesheet for styling, incorporates shared header and navigation elements, and displays detailed tables for various workout programs, including "Starting Strength Program," "531 Program," "333 - 555 Program," and "Bodyweight Strength Program." Each program section provides structured workout plans with sets, reps, and additional guidance. The template also features a form for generating a program PDF based on user input. A JavaScript file (programs.js) is linked for client-side functionality. The CSRF token is included in the form for security.
- **`STHENOS_Programs/views.py`**: This Django view handles the display and processing of a workout program form. When the user submits the form, it captures and validates the input data (e.g., max weights for bench press, squat, and deadlift) and generates a PDF based on the provided details using the generate_pdf function from pdfGenerator.py. If the request method is GET, the form is populated with initial data based on the user's profile if authenticated. The form includes fields for max weights, a pseudonym, and unit selection (kg or lbs). The generate_pdf_view function creates a PDF in-memory and serves it as a downloadable file with the name "sthenos_title.pdf".
- **`STHENOS_Programs/pdfGenerator.py`**: The file pdf generator.py is actually a simplified version of the final project I made for CS50P. This script generates a customized strength training PDF using the FPDF library, tailored to user-provided data such as bench press, squat, and deadlift maxes. It features a PDF class for setting up the document's header and a generate_pdf function to create and format the workout plan. The program_table_create function outlines a 34-week training schedule based on user metrics. Designed for integration within a Django project, it provides a means to deliver personalized workout plans through PDF downloads. Ensure the fpdf library is installed, and update the image path for the logo to fit your project's structure.

### STHENOS_Theory app

The STHENOS_Theory app is designed to present users with educational content related to sports science. It features a set of dynamic pages built with Django, incorporating interactive elements to enhance user engagement. The app displays scientific information through a series of sourced articles. It uses Django's templating system to render content from a JSON file, which allows for easy updates and scalability. Users can access detailed descriptions by interacting with clickable titles, facilitated by JavaScript for a smoother user experience. The app also includes sections for personal information about the author and external links to authoritative sources. This integration of Django and JavaScript ensures a seamless, responsive design that enhances accessibility and interactivity across various devices.

- **`STHENOS_Theory/static/`**: This folder contain the specific CSS for this app and a json file containing a study i wrote years ago. This json file implements the HTML template with the views.py file. 
- **`STHENOS_Theory/templates/`**: This folder contain 3 simple html code. Contact.html just talk about me the author in two sentences. Links.html contains useful links for powerlifter with a brief presentation. theory.html loop through a list containing the different paragraph i wrote about physical devlopment theory.
- **`STHENOS_Theory/views.py`**: This Django view module handles the rendering of different pages in a web application. The theory view reads data from a JSON file (training.json) located in the static files directory, loads it into a context dictionary, and then renders it on the theory.html template. The links and contact views simply pass context with a current_page indicator to their respective templates (links.html and contact.html). This setup helps manage the dynamic content and navigation of the website, ensuring that the appropriate data and page context are provided for each request.

## Running the Application

To run the application, follow these steps:

1. **Clone the Repository**: 
    ```bash
    git clone <repository-url>
    cd <project-directory>
    ```

2. **Create a Virtual Environment**: 
    ```bash
    python -m venv venv
    source venv/bin/activate  # On Windows, use `venv\Scripts\activate`
    ```

3. **Install Dependencies**:
    ```bash
    pip install -r requirements.txt
    ```

4. **Apply Database Migrations**:
    ```bash
    python manage.py migrate
    ```

5. **Run the Development Server**:
    ```bash
    python manage.py runserver
    ```
6. **Access the Application**: Open your web browser and go to `http://127.0.0.1:8000/` to view the application.